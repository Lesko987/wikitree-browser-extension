[{
	"description": "prettifying inline citation tags",
	"actions": [{
		"description": "&lt;REF&gt;",
		"action": "replaceRegEx",
		"from": "< *ref *>",
		"to": "<ref>",
		"flags": "mg"
	},{
		"description": "&lt;/REF&gt;",
		"action": "replaceRegEx",
		"from": "< */ *ref *>",
		"to": "</ref>",
		"flags": "mg"
	},{
		"description": "&lt;REFERENCES /&gt;",
		"action": "replaceRegEx",
		"from": "< *references */ *>",
		"to": "<references />",
		"flags": "mg"
	}]
},{
	"description": "Removing old dummy texts",
	"actions": [{
		"description": "This biography is a rough draft...",
		"action": "replaceRegEx",
		"from": "''This biography is a rough draft\\. It was auto-generated by a GEDCOM import and needs to be edited\\.''\\s",
		"to": "",
		"flags": "mg"
	},{
		"description": "CONT",
		"action": "replaceRegEx",
		"from": " CONT ",
		"to": " ",
		"flags": "mg"
	},{
		"description": "CONC",
		"action": "replaceRegEx",
		"from": " CONC ",
		"to": " ",
		"flags": "mg"
	}]
},{
	"description": "Removing spaces",
	"actions": [{
		"description": "empty lines at the beginning",
		"action": "replaceRegEx",
		"from": "^\\s+",
		"to": "",
		"flags": ""
	},{
		"description": "empty lines at the end",
		"action": "replaceRegEx",
		"from": "\\s+\r\n$",
		"to": "\r\n",
		"flags": ""
	},{
		"description": "Changing nonbreaking space",
		"action": "replaceRegEx",
		"from": "\u00A0",
		"to": " ",
		"flags": "g"
	},{			
		"description": "Removing soft hyphen",
		"action": "replaceRegEx",
		"from": "\u00AD",
		"to": "",
		"flags": "g"
	},{			
		"description": "TABulator to space",
		"action": "replaceRegEx",
		"from": "\\t",
		"to": " ",
		"flags": "g"
	},{
		"description": "multi space to single",
		"action": "replaceRegEx",
		"from": "  +",
		"to": " ",
		"flags": "g"
	},{
		"description": "angled double quotes to normal",
		"action": "replaceRegEx",
		"from": "[“”]",
		"to": "\"",
		"flags": "g"
	},{
		"description": "angled quotes to normal",
		"action": "replaceRegEx",
		"from": "[`‘’]",
		"to": "'",
		"flags": "g"
	}]
},{
	"description": "Redirected templates",
	"actions": [{
		"description": "Global Family Reunion",
		"action": "replaceRegEx",
		"from": "\\{\\{\\s*User Global Family Reunion *",
		"to": "{{Global Family Reunion",
		"flags": "mg"
	},{
		"description": "One Place Study",
		"action": "replaceRegEx",
		"from": "\\{\\{\\s*OnePlaceStudy *",
		"to": "{{One Place Study",
		"flags": "mg"
	},{
		"description": "Citation Needed",
		"action": "replaceRegEx",
		"from": "\\{\\{\\s*Citation needed *",
		"to": "{{Citation Needed",
		"flags": "mg"
	}]
},{
	"description": "Heading levels",
	"actions": [{
		"description": "Sources Level3 => Level2",
		"action": "replaceRegEx",
		"from": "^=== ?Sources ?===$",
		"to": "== Sources ==",
		"flags": "mg"
	},{
		"description": "Acknowledgements Level3 => Level2",
		"action": "replaceRegEx",
		"from": "^=== ?Acknowledgements ?===$",
		"to": "== Acknowledgements ==",
		"flags": "mg"
	}]
},{
	"description": "Links to WikiTree",
	"actions": [{
		"description": "External Link to Internal",
		"action": "replaceRegEx",
		"from": "\\[https?://www.wikitree.com/wiki/(Category:.*?) +((?!http)[^?&=\\]]*?) *\\](?![^<]*?</nowiki>)",
		"to": "[[:$1|$2]]",
		"flags": "mg"
	},{
		"description": "External Link to Internal",
		"action": "replaceRegEx",
		"from": "\\[https?://www.wikitree.com/wiki/((Automated:|Space:|Template:|Project:|Help:|Special:|)[^?&=\\]]*?) +((?!http).*?) *\\](?![^<]*?</nowiki>)",
		"to": "[[$1|$3]]",
		"flags": "mg"
	},{
		"description": "URL to Internal Link",
		"action": "replaceRegEx",
		"from": "([\\s(>]|^)https?://www.wikitree.com/wiki/(Category:[^?&=\\]]*?)(?=[,.]?[\\s)<])(?![^<]*?</nowiki>)",
		"to": "$1[[:$2|$2]]",
		"flags": "mg"
	},{
		"description": "URL to Internal Link",
		"comment": "URL in [] with anchor text",
		"action": "replaceRegEx",
		"from": "([\\s(>])https?://www\\.wikitree\\.com/wiki/((Automated:|Space:|Template:|Project:|Help:|Special:|(?!Category:))[^?&=\\]]*?)(?=[,.]?[\\s)<])(?![^<]*?</nowiki>)(?![^{]*?\\}\\})",
		"to": "$1[[:$2|$2]]",
		"flags": "mg"
	},{
		"description": "http WikiTree to https",
		"action": "replaceRegEx",
		"from": "http://www\\.wikitree\\.com/",
		"to": "https://www.wikitree.com/",
		"flags": "mg"
	}]
},{
	"description": "Ancestry URL",
	"actions": [{
		"description": "Record URL to template",
		"comment": "link in []",
		"action": "replaceRegEx",
		"from": " *\\[http://trees\\.ancestry\\.com/rd\\?f=sse&db=([^& ]*)&h=(\\d{5,})[^\\] ]*[^\\]]{0,15}\\] *",
		"to": "{{Ancestry Record|$1|$2}}",
		"flags": "mg"
	},{
		"description": "Record URL to template",
		"comment": "just link",
		"action": "replaceRegEx",
		"from": " *http://trees\\.ancestry\\.com/rd\\?f=sse&db=([^& ]*)&h=(\\d{5,})[^ ]*  *",
		"to": " {{Ancestry Record|$1|$2}} ",
		"flags": "mg"
	},{
		"description": "Sharing URL to template",
		"comment": "link in []",
		"action": "replaceRegEx",
		"from": " *\\[https://www\\.ancestry\\.(com|co\\.uk)/sharing/(\\d*)\\?h=([a-z0-9]*)[^\\] ]*[^\\]]{0,15}\\] *",
		"to": " {{Ancestry Sharing|$2|$3}} ",
		"flags": "mg"
	},{
		"description": "Sharing URL to template",
		"comment": "just link",
		"action": "replaceRegEx",
		"from": " *https://www\\.ancestry\\.(com|co\\.uk)/sharing/(\\d*)\\?h=([a-z0-9]*)[^ ]*",
		"to": " {{Ancestry Sharing|$2|$3}} ",
		"flags": "mg"
	},{
		"description": "old record URL to new",
		"action": "replaceRegEx",
		"from": "http://trees\\.ancestry\\.com/rd\\?f=sse&",
		"to": "http://search.ancestry.com/cgi-bin/sse.dll?",
		"flags": "mg"
	},{
		"description": "old tree URL to new",
		"action": "replaceRegEx",
		"from": "https?://(www\\.ancestry\\.com/pt/PersonMatch|trees\\.ancestry\\.com/pt/AMTCitationRedir)\\.aspx\\?tid=(\\d{2,})&pid=([-]?\\d{6,})",
		"to": "https://www.ancestry.com/family-tree/person/tree/$2/person/$3/facts",
		"flags": "mg"
	},{
		"description": "old tree URL to new (no person)",
		"action": "replaceRegEx",
		"from": "https?://(www\\.ancestry\\.com/pt/PersonMatch|trees\\.ancestry\\.com/pt/AMTCitationRedir)\\.aspx\\?tid=(\\d{2,})&pid=(\\d{0,5})",
		"to": "https://www.ancestry.com/family-tree/tree/$2/family",
		"flags": "mg"
	}]
},{
	"description": "FindAGrave URL",
	"actions": [{
		"description": "old URL to template",
		"action": "replaceRegEx",
		"from": "> *https?://www.findagrave.com/cgi-bin/fg.cgi\\?page=gr&GRid=(\\d*) *<",
		"to": ">{{FindAGrave|$1}}<",
		"flags": "mg"
	},{
		"description": "old [URL] to template",
		"action": "replaceRegEx",
		"from": " *\\[ *https?://www.findagrave.com/cgi-bin/fg.cgi\\?page=gr&GRid=(\\d*) *] *",
		"to": " {{FindAGrave|$1}} ",
		"flags": "mg"
	},{
		"description": "old [URL ] to template",
		"action": "replaceRegEx",
		"from": " *\\[ *https?://www.findagrave.com/cgi-bin/fg.cgi\\?page=gr&GRid=(\\d*) ([^\\]]*)] *",
		"to": " {{FindAGrave|$1}} $2 ",
		"flags": "mg"
	},{
		"description": "old Link to template",
		"action": "replaceRegEx",
		"from": "[^[]\\K https?://www.findagrave.com/cgi-bin/fg.cgi\\?page=gr&GRid=(\\d*)(  *|$)",
		"to": " {{FindAGrave|$1}} ",
		"flags": "mg"
	},{
		"description": "URL to template",
		"action": "replaceRegEx",
		"from": " ?https://www.findagrave.com/memorial/(\\d*)[ /]?",
		"to": " {{FindAGrave|$1}} ",
		"flags": "mg"
	}]
},{
	"description": "PRDH URL",
	"actions": [{
		"description": "old URL to newe",
		"action": "replaceRegEx",
		"from": "https?://((www.)?prdh-igd.com|www.genealog(y|ie).umontreal.ca)",
		"to": "https://www.prdh-igd.com",
		"flags": "mgi"
	},{
		"description": "[url] to template",
		"action": "replaceRegEx",
		"from": "\\[ *https://www.prdh-igd.com/Membership/(fr|en)/PRDH(//?|\\?)(Famille|Individu|Descendance|Union|Acte)/(\\d*)/?(embedded)? ([^\\]]*)] *",
		"to": " {{PRDH|$3|$4|lang=$1}} $6 ",
		"flags": "mgi"
	},{
		"description": "old [url] to template",
		"action": "replaceRegEx",
		"from": "\\[ *https://www.prdh-igd.com/(fr|en)/Member/(Famille|Individu|Descendance|Union|Acte).asp\\?(\\d*)/? ([^\\]]*)] *",
		"to": " {{PRDH|$2|$3|lang=$1}} $4 ",
		"flags": "mgi"
	},{
		"description": "url to template",
		"action": "replaceRegEx",
		"from": "[^[]\\K *https://www.prdh-igd.com/Membership/(fr|en)/PRDH(//?|\\?)(Famille|Individu|Descendance|Union|Acte)/(\\d*)/?(embedded)? *",
		"to": " {{PRDH|$2|$3|lang=$1}} ",
		"flags": "mgi"
	},{
		"description": "old url to template",
		"action": "replaceRegEx",
		"from": "[^[]\\K *https://www.prdh-igd.com/(fr|en)/Member/(Famille|Individu|Descendance|Union|Acte).asp\\?(\\d*)/? *",
		"to": " {{PRDH|$2|$3|lang=$1}} ",
		"flags": "mgi"
	},{
		"description": "Pionnier [url] to template",
		"action": "replaceRegEx",
		"from": "\\[ *https://www.prdh-igd.com/(fr|en)/Pionnier(/|.asp\\?)(\\d*)/? ([^\\]]*)] *",
		"to": " {{PRDH|Pionnier|$3|lang=$1}} $4 ",
		"flags": "mgi"
	},{
		"description": "Pionnier url to template",
		"action": "replaceRegEx",
		"from": "[^[]\\K *https://www.prdh-igd.com/(fr|en)/Pionnier(/|.asp\\?)(\\d*)/? *",
		"to": " {{PRDH|Pionnier|$2|lang=$1}} ",
		"flags": "mgi"
	},{
		"description": "removes lang=en in template",
		"action": "replaceRegEx",
		"from": "({{PRDH\\|[^|}]*\\|[^|}]*)(\\|lang=en)}}",
		"to": "$1}}",
		"flags": "mgi"
	}]
}]
